<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Profile</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>

    document.addEventListener('DOMContentLoaded', () => {
      const isLoggedIn = localStorage.getItem('isLoggedIn');
      if (!isLoggedIn || isLoggedIn !== 'true') {
        alert('You must be logged in to access this page.');
        window.location.href = '../signIn.html'; // Redirect to login page
      }
    });
  </script>
</head>

<body>

  <!-- Navbar -->
  <header class="bg-white max-w-[92%] mx-auto border-b mb-4 border-gray-200">
    <div class="max-w-6xl mx-auto flex justify-between items-center p-4">
      <!-- Logo -->
      <div class="flex items-center gap-4 font-semibold text-gray-800 text-xl">
        <img src="./images/miniLogo.png" alt="Logo" class="w-4 object-contain" />
        <p>QuizMaster</p>
      </div>

      <!-- Hamburger button (hidden on lg and above) -->
      <button id="hamburgerBtn" aria-label="Toggle Menu"
        class="md:hidden text-gray-600 hover:text-blue-500 focus:outline-none">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"
          stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>



      <!-- Right Icons: Bell + Avatar (hidden on md and below) -->
      <div id="rightIcons" class="hidden md:flex items-center gap-6">
        <!-- Navigation links + icons -->
        <nav id="navMenu" class="hidden md:flex md:items-center md:space-x-6 text-gray-700">
          <a href="./index.html" class="hover:text-blue-500 block md:inline">Home</a>
          <a href="./selectQuiz.html" class="hover:text-blue-500 block md:inline">Quizzes</a>
          <a href="#" class="hover:text-blue-500 block md:inline">Leaderboard</a>
          <a href="./profile.html" class="hover:text-blue-500 block md:inline">Profile</a>
        </nav>
        <button aria-label="Notifications" class="text-gray-600 hover:text-blue-500 focus:outline-none">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"
            stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6 6 0 10-12 0v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
          </svg>
        </button>

        <img src="./images/dp.png" alt="User Avatar" class="rounded-full w-9 h-9 object-cover" />
      </div>
    </div>

    <!-- Mobile menu (hidden by default) -->
    <nav id="mobileMenu" class="md:hidden hidden bg-white border-t border-gray-200 p-4 space-y-4">
      <a href="./index.html" class="block text-gray-700 hover:text-blue-500">Home</a>
      <a href="./selectQuiz.html" class="block text-gray-700 hover:text-blue-500">Quizzes</a>
      <a href="#" class="block text-gray-700 hover:text-blue-500">Leaderboard</a>
      <a href="./profile.html" class="block text-gray-700 hover:text-blue-500">Profile</a>

      <div class="flex items-center gap-6 mt-2">

        <button aria-label="Notifications" class="text-gray-600 hover:text-blue-500 focus:outline-none">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"
            stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6 6 0 10-12 0v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
          </svg>
        </button>

        <img src="./images/dp.png" alt="User Avatar" class="rounded-full w-9 h-9 object-cover" />
      </div>
    </nav>
  </header>

  <div class="max-w-4xl mx-auto px-4 py-12">
    <!-- Profile Image and Name -->
    <div class="flex flex-col items-center mb-8">
      <img src="./images/profilePhoto.png" alt="Profile Photo" class="w-24 h-24 rounded-full object-cover mb-4" />
      <h2 id="profileName" class="text-xl font-semibold">Sophia Bennett</h2>
      <p class="text-sm text-gray-500">Quiz Enthusiast</p>
      <p class="text-xs text-gray-400">Joined 2021</p>
    </div>

    <!-- Tabs -->
    <div class="flex border-bs border-gray-200 mb-6 justify-center space-x-12 text-gray-600">

      <button class="pb-2 border-b-2 border-transparent hover:text-gray-900">Activity</button>
      <button class="pb-2 border-b-2 border-blue-600 font-semibold text-blue-600">Profile</button>
    </div>

    <!-- Content -->
    <div class="space-y-10">
      <!-- Personal Information -->
      <section>
        <hr class="mb-6">
        <h3 class="font-semibold bg-bluse-500 text-lg mb-6  border-b border-gray-200 pb-6">Personal Information</h3>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-y-8 gap-x-12 text-sm text-gray-600">
          <div>
            <p class="text-gray-400 mb-1">Name</p>
            <p id="name">Sophia Bennett</p>
          </div>
          <div>
            <p class="text-gray-400 mb-1">Email</p>
            <p id="email">sophia.bennett@email.com</p>
          </div>
          <div>
            <p class="text-gray-400 mb-1">Bio</p>
            <p>Avid quiz taker and trivia lover. Always up for a challenge!</p>
          </div>
        </div>
      </section>

      <!-- Quiz History -->
      <section>
        <h3 class="font-semibold text-lg mb-6">Quiz History</h3>
        <div class="overflow-x-auto">
          <table class="min-w-full text-left text-sm text-gray-600 border border-gray-200 rounded-lg">
            <thead class="bg-gray-50 border-b border-gray-200">
              <tr>
                <th class="py-3 px-6">Quiz Name</th>
                <th class="py-3 px-6">Score</th>
                <th class="py-3 px-6">Date</th>
              </tr>
            </thead>
            <tbody>
              <tr class="border-b border-gray-200">
                <td class="py-3 px-6">General Knowledge</td>
                <td class="py-3 px-6">85/100</td>
                <td class="py-3 px-6">2023-08-15</td>
              </tr>
              <tr class="border-b border-gray-200">
                <td class="py-3 px-6">Science Trivia</td>
                <td class="py-3 px-6">70/100</td>
                <td class="py-3 px-6">2023-08-10</td>
              </tr>
              <tr>
                <td class="py-3 px-6">History Buff</td>
                <td class="py-3 px-6">92/100</td>
                <td class="py-3 px-6">2023-08-05</td>
              </tr>
            </tbody>
          </table>
        </div>
        <button onclick="logout()" class="bg-red-800 text-white px-4 py-2 rounded mt-4">LogOut</button>
      </section>
    </div>
  </div>

  <script>
    function logout() {
      localStorage.removeItem("isLoggedIn");
      localStorage.removeItem("loggedInUser");

      window.location.href = "../signIn.html";

      alert("You have been logged out.");
    }


    const hamburgerBtn = document.getElementById('hamburgerBtn');
    const mobileMenu = document.getElementById('mobileMenu');

    hamburgerBtn.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
    });

    document.addEventListener("DOMContentLoaded", () => {
     const userEmail = localStorage.getItem("loggedInUser");
      if (userEmail) {
        document.getElementById("email").innerHTML = userEmail;
      }
    });
  </script>
</body>

</html>